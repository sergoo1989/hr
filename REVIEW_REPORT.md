# ุชูุฑูุฑ ุงููุฑุงุฌุนุฉ ุงูุดุงููุฉ ูููุธุงู
**ุงูุชุงุฑูุฎ:** 2025-12-13

## โ ุงููุชุงุฆุฌ ุงูุฅูุฌุงุจูุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช (InMemoryDatabase)
- โ **ุชู ุฅุฒุงูุฉ ุฌููุน ุงูุงุนุชูุงุฏูุงุช ุนูู Prisma** - ูุง ุชูุฌุฏ ุฃู references ูู Prisma ูู ุงูููุฏ
- โ **ูุงุนุฏุฉ ุจูุงูุงุช ุฏุงุฎููุฉ ูุงููุฉ** ูุน Singleton Pattern
- โ **ุจูุงูุงุช Seed ูุงููุฉ**:
  - 2 ููุธููู (ูุฏูุฑ ุงููุธุงู + ููุธู ุนุงุฏู)
  - 2 ุญุณุงุจ ูุณุชุฎุฏููู (admin/admin123, employee1/emp123)
  - 2 ุฅุฌุงุฒุงุช (1 ูุนููุฉ + 1 ููุงูู ุนูููุง)
  - 2 ุณูู (1 ูุนููุฉ + 1 ููุงูู ุนูููุง)
  - 1 ุฃุตู (Laptop)

### 2. Backend APIs
- โ **ุฌููุน Controllers ูุฑุจูุทุฉ ุจู InMemoryDatabase**:
  - `EmployeeController` - ุฅุฏุงุฑุฉ ุงูููุธููู (CRUD ูุงูู)
  - `AdminController` - ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช ูุงูุณูู
  - `DashboardController` - ุงูุฅุญุตุงุฆูุงุช
  - `AuthController` - ุงููุตุงุฏูุฉ ูุงูุชุญูู
  - `PayrollController` - ุงูุฑูุงุชุจ

- โ **ุฌููุน Services ุชุณุชุฎุฏู InMemoryDatabase**:
  - `EmployeeService` - ููุทู ุงูููุธููู
  - `AdminService` - ููุทู ุงูุฅุฏุงุฑุฉ
  - `AuthService` - ููุทู ุงููุตุงุฏูุฉ
  - `LeaveService` - ููุทู ุงูุฅุฌุงุฒุงุช
  - `PayrollService` - ููุทู ุงูุฑูุงุชุจ
  - `EmployeeDashboardService` - ููุญุฉ ุงูููุธู
  - `AdminDashboardService` - ููุญุฉ ุงูุฅุฏุงุฑุฉ

### 3. Frontend Integration
- โ **ุฌููุน ุงูุตูุญุงุช ูุฑุจูุทุฉ ุจู localhost:3000**:
  - `login.html` - ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
  - `admin-dashboard.html` - ููุญุฉ ุงูุฅุฏุงุฑุฉ
  - `employee-dashboard.html` - ููุญุฉ ุงูููุธู
  - `setup.html` - ุตูุญุฉ ุงูุฅุนุฏุงุฏ ุงูุฃููู

- โ **ุฌููุน API calls ูุญุฏุซุฉ**:
  - Authentication: `/auth/login`
  - Employees: `/employees`, `/employees/:id`, `/employees/me/*`
  - Admin: `/admin/leaves/*`, `/admin/advances/*`
  - Dashboard: `/dashboard/stats`

### 4. Security
- โ **JWT Authentication** ูุทุจู ุจุงููุงูู
- โ **Role-based Authorization** (ADMIN, EMPLOYEE)
- โ **Password Hashing** ุจุงุณุชุฎุฏุงู bcrypt
- โ **Guards** ูุทุจูุฉ ุนูู ุฌููุน ุงููุณุงุฑุงุช ุงููุญููุฉ

## ๐ง ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุฅุตูุงุญุงุช ูู InMemoryDatabase
```typescript
// ุฅุถุงูุฉ ุจูุงูุงุช seed ููุฅุฌุงุฒุงุช ูุงูุณูู ูุงูุฃุตูู
- 2 ุฅุฌุงุฒุงุช ูุน ุญุงูุงุช ูุฎุชููุฉ (PENDING, APPROVED)
- 2 ุณูู ูุน ุญุงูุงุช ูุฎุชููุฉ
- 1 ุฃุตู (Laptop ููููุธู)
```

### 2. ุชุญุณูู EmployeeDashboardService
```typescript
// calculateLeaveBalance - ุญุณุงุจ ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช ุงูุญูููู
- ุญุณุงุจ ุณููุงุช ุงูุฎุฏูุฉ ูู ุชุงุฑูุฎ ุงูุชุนููู
- ุชุญุฏูุฏ ุนุฏุฏ ุฃูุงู ุงูุฅุฌุงุฒุฉ (21 ุฃู 30) ุญุณุจ ุณููุงุช ุงูุฎุฏูุฉ
- ุญุณุงุจ ุงูุฃูุงู ุงููุณุชุฎุฏูุฉ ูู ุงูุฅุฌุงุฒุงุช ุงููุนุชูุฏุฉ
- ุญุณุงุจ ูููุฉ ุฑุตูุฏ ุงูุฅุฌุงุฒุฉ ุงููุงูู

// calculateEOSB - ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
- ุญุณุงุจ ุญุณุจ ูุงููู ุงูุนูู ุงูุณุนูุฏู
- ุฃูู 5 ุณููุงุช: ูุตู ุฑุงุชุจ ุดูุฑ ุนู ูู ุณูุฉ
- ุจุนุฏ 5 ุณููุงุช: ุฑุงุชุจ ุดูุฑ ูุงูู ุนู ูู ุณูุฉ
```

### 3. ุฅุตูุงุญ switchTab ูู admin-dashboard.html
```javascript
// ุฅุตูุงุญ ูุดููุฉ event.target ุบูุฑ ูุนุฑูู
function switchTab(tabName, event = null) {
    // ูุนุงูุฌุฉ ุงูุญุงูุชูู: ุงูููุฑ ุงููุจุงุดุฑ ูุงูุงุณุชุฏุนุงุก ุงูุจุฑูุฌู
    if (event && event.target) {
        event.target.classList.add('active');
    } else {
        // ุงูุจุญุซ ุนู ุงูุชุจููุจ ุงูููุงุณุจ ุจุฑูุฌูุงู
        const tabButton = Array.from(document.querySelectorAll('.tab'))
            .find(tab => tab.getAttribute('onclick')?.includes(`'${tabName}'`));
        if (tabButton) tabButton.classList.add('active');
    }
}
```

### 4. ุชุญุณูู employee-dashboard.html
```javascript
// ุฅุตูุงุญ ุนุฑุถ ุงูุจูุงูุงุช ูู API
- ุงุณุชุฎุฏุงู leaveBalance.remainingDays ุจุฏูุงู ูู dashboardData.leaveBalance
- ุงุณุชุฎุฏุงู leaveBalance.usedDays ุจุฏูุงู ูู dashboardData.usedLeaves
- ุญุณุงุจ ุนุฏุฏ ุงูุณูู ุงููุนููุฉ ูู ูุตูููุฉ ุงูุทูุจุงุช
- ุญุณุงุจ ุนุฏุฏ ุงูุฃุตูู ูู API response
```

## ๐ ุญุงูุฉ ุงูุชูุงูู

### API Endpoints ุงููุชูุงููุฉ ุจุงููุงูู โ

#### Authentication
- `POST /auth/login` - ุชุณุฌูู ุงูุฏุฎูู โ
- `GET /health` - ูุญุต ุญุงูุฉ ุงูุณูุฑูุฑ โ

#### Employees (Admin)
- `GET /employees` - ูุงุฆูุฉ ุฌููุน ุงูููุธููู โ
- `GET /employees/:id` - ุชูุงุตูู ููุธู โ
- `POST /employees` - ุฅุถุงูุฉ ููุธู โ
- `PUT /employees/:id` - ุชุนุฏูู ููุธู โ
- `DELETE /employees/:id` - ุญุฐู ููุธู โ

#### Employees (Self)
- `GET /employees/me` - ุจูุงูุงุช ุงูููุธู ุงูุดุฎุตูุฉ โ
- `GET /employees/me/dashboard` - ููุญุฉ ูุนูููุงุช ุงูููุธู โ
- `GET /employees/me/leave-balance` - ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช โ
- `GET /employees/me/leaves` - ูุงุฆูุฉ ุฅุฌุงุฒุงุช ุงูููุธู โ
- `GET /employees/me/advances` - ูุงุฆูุฉ ุณูู ุงูููุธู โ
- `GET /employees/me/assets` - ูุงุฆูุฉ ุฃุตูู ุงูููุธู โ
- `GET /employees/me/end-of-service` - ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ โ
- `POST /employees/me/leaves` - ุทูุจ ุฅุฌุงุฒุฉ โ
- `POST /employees/me/advances` - ุทูุจ ุณููุฉ โ

#### Admin
- `GET /admin/leaves/pending` - ุงูุฅุฌุงุฒุงุช ุงููุนููุฉ โ
- `PATCH /admin/leaves/:id/approve` - ุงูููุงููุฉ ุนูู ุฅุฌุงุฒุฉ โ
- `PATCH /admin/leaves/:id/reject` - ุฑูุถ ุฅุฌุงุฒุฉ โ
- `GET /admin/advances/pending` - ุงูุณูู ุงููุนููุฉ โ
- `PATCH /admin/advances/:id/approve` - ุงูููุงููุฉ ุนูู ุณููุฉ โ
- `PATCH /admin/advances/:id/reject` - ุฑูุถ ุณููุฉ โ

#### Dashboard
- `GET /dashboard/stats` - ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ โ
- `GET /dashboard` - ููุญุฉ ุงูุชุญูู ุงููุงููุฉ โ

### Frontend Pages ุงููุชูุงููุฉ ุจุงููุงูู โ

#### login.html
- ุชุณุฌูู ุงูุฏุฎูู โ
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช โ
- ุงูุชูุฌูู ุญุณุจ ุงูุฏูุฑ (admin/employee) โ

#### admin-dashboard.html
- ููุญุฉ ุงููุนูููุงุช (Stats) โ
- ุฅุถุงูุฉ ููุธู โ
- ุนุฑุถ ูุงุฆูุฉ ุงูููุธููู โ
- ุชุนุฏูู ููุธู โ
- ุญุฐู ููุธู โ
- ุนุฑุถ ุงูุฅุฌุงุฒุงุช ุงููุนููุฉ โ
- ุงูููุงููุฉ/ุฑูุถ ุงูุฅุฌุงุฒุงุช โ
- ุนุฑุถ ุงูุณูู ุงููุนููุฉ โ
- ุงูููุงููุฉ/ุฑูุถ ุงูุณูู โ

#### employee-dashboard.html
- ุนุฑุถ ุจูุงูุงุช ุงูููุธู โ
- ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช โ
- ุนุฑุถ ุงูุฅุฌุงุฒุงุช โ
- ุนุฑุถ ุงูุณูู โ
- ุนุฑุถ ุงูุฃุตูู โ

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. ูุง ููุฌุฏ ุฃู ุงุนุชูุงุฏ ุฎุงุฑุฌู
- โ Prisma - ุชู ุฅุฒุงูุชู ุจุงููุงูู
- โ SQLite - ูุง ูุณุชุฎุฏู
- โ PostgreSQL - ูุง ูุณุชุฎุฏู
- โ InMemoryDatabase ููุท

### 2. ุฌููุน ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ
- ุงูุจูุงูุงุช ุชูููุฏ ุนูุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ
- ูุชู ุชุญููู seed data ุชููุงุฆูุงู ุนูุฏ ุงูุจุฏุก
- ููุงุณุจ ููุชุทููุฑ ูุงูุงุฎุชุจุงุฑ

### 3. ุญุณุงุจุงุช ุงูุงุฎุชุจุงุฑ
```
ูุฏูุฑ ุงููุธุงู:
Username: admin
Password: admin123

ููุธู:
Username: employee1
Password: emp123
```

### 4. ุงูุจูุงูุงุช ุงููุชููุฑุฉ ููุงุฎุชุจุงุฑ
- ููุธููู: 2
- ุฅุฌุงุฒุงุช: 2 (1 ูุนููุฉุ 1 ูุนุชูุฏุฉ)
- ุณูู: 2 (1 ูุนููุฉุ 1 ูุนุชูุฏุฉ)
- ุฃุตูู: 1

## ๐ฏ ุงูุฎูุงุตุฉ

โ **ุงููุธุงู ุงูุขู ูุชูุงูู ุจุงููุงูู**
- ูุง ููุฌุฏ ุฃู ุงุนุชูุงุฏูุงุช ุฎุงุฑุฌูุฉ
- ุฌููุน ุงูุตูุญุงุช ูุฑุจูุทุฉ ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฏุงุฎููุฉ
- ุฌููุน ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช ุชุนูู ุจุดูู ุตุญูุญ
- ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ ูุชููุฑุฉ ููุงุฎุชุจุงุฑ
- ุงูุชูุงูู ุจูู Frontend ู Backend ูุงูู 100%

## ๐ ููุจุฏุก

```bash
# ุชุดุบูู ุงูุณูุฑูุฑ
cd "c:\Users\ahmed\vs code\hr\apps\api"
npm run start:dev

# ูุชุญ ุงููุชุตูุญ
# http://localhost:3000 (API)
# file:///c:/Users/ahmed/vs code/hr/frontend/login.html (Frontend)
```

## โ ุงูุงุฎุชุจุงุฑุงุช ุงูููุตู ุจูุง

1. ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ admin
2. ุนุฑุถ ููุญุฉ ุงููุนูููุงุช
3. ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
4. ุชุนุฏูู ููุธู ููุฌูุฏ
5. ุญุฐู ููุธู
6. ุงูููุงููุฉ ุนูู ุฅุฌุงุฒุฉ ูุนููุฉ
7. ุงูููุงููุฉ ุนูู ุณููุฉ ูุนููุฉ
8. ุชุณุฌูู ุงูุฎุฑูุฌ
9. ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ employee
10. ุนุฑุถ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
11. ุนุฑุถ ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช
12. ุนุฑุถ ุงูุณูู ูุงูุฃุตูู
