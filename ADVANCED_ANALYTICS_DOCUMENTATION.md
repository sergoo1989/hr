# ูุธุงู ุงูุชุญูููุงุช ุงููุชูุฏู - Advanced Analytics System

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ูุธุงู ุชุญูููุงุช ุดุงูู ููุชูุฏู ุฅูู ูุธุงู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ูุน ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ ูุฌุฏุงูู ุชูุตูููุฉ ูุฅุญุตุงุฆูุงุช ุฏูููุฉ.

---

## โจ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. **ุฅุญุตุงุฆูุงุช ุดุงููุฉ**
- ุฅุฌูุงูู ุงูููุธููู
- ุนุฏุฏ ุงูููุธููู ุงูุณุนูุฏููู
- ุนุฏุฏ ุงูููุธููู ุบูุฑ ุงูุณุนูุฏููู
- ููุธููู ุนู ุจุนุฏ (Remote)
- ููุธููู ุจุงุฑุช ุชุงูู (Part-Time)
- ููุธููู ุจููุงูุฉ ุดุฎุตูุฉ
- ูุดู ุงูุฑูุงุชุจ ุงูุดูุฑู
- ูุซุงุฆู ูุฑูุจุฉ ูู ุงูุงูุชูุงุก

### 2. **ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ (Charts)**
โ ุชูุฒูุน ุงูููุธููู ุญุณุจ ุงูุฃูุณุงู (Pie Chart)
โ ุชูุฒูุน ุงูููุธููู ุญุณุจ ุงูุฌูุณูุฉ (Doughnut Chart)
โ ุชูุฒูุน ุงูุฅุฌุงุฒุงุช ุญุณุจ ุงูููุน (Bar Chart)
โ ุชูุฒูุน ุงูุฑูุงุชุจ ุจุงููุทุงูุงุช (Bar Chart)

### 3. **ุชุญููู ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช**
ูุญุณุจ ููู ููุธู:
- ุงูุฃูุงู ุงููุณุชุญูุฉ ุณูููุงู (21 ููู ุฃูู 5 ุณููุงุชุ 30 ููู ุจุนุฏ ุฐูู)
- ุงูุฃูุงู ุงููุณุชุฎุฏูุฉ
- ุงูุฃูุงู ุงููุชุจููุฉ
- ุงูุฃุฌุฑ ุงููููู
- **ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช ููุจูุบ ูุงูู** (ุงูุฃูุงู ุงููุชุจููุฉ ร ุงูุฃุฌุฑ ุงููููู)

### 4. **ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ**
ูููุงู ููุธุงู ุงูุนูู ุงูุณุนูุฏู:
- ุฃูู ูู ุณูุชูู: ูุง ูุณุชุญู
- ูู 2 ุฅูู 5 ุณููุงุช: ูุตู ุฑุงุชุจ ุนู ูู ุณูุฉ
- ูู 5 ุฅูู 10 ุณููุงุช: ูุตู ุฑุงุชุจ ูุฃูู 5 ุณููุงุช + ุฑุงุชุจ ูุงูู ููุจุงูู
- ุฃูุซุฑ ูู 10 ุณููุงุช: ุฑุงุชุจ ูุงูู ุนู ูู ุณูุฉ

**ูุนุฑุถ ููู ููุธู:**
- ุณููุงุช ูุดููุฑ ุงูุฎุฏูุฉ
- ุงูุฑุงุชุจ ุงูุดูุฑู
- ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุงููุณุชุญูุฉ
- ุฅุฌูุงูู ุงูููุงูุขุช ููุดุฑูุฉ

### 5. **ุงุณุชุญูุงู ุงูุชุฐุงูุฑ**
- ูุงุฆูุฉ ุงูููุธููู ุงููุณุชุญููู ููุชุฐุงูุฑ
- ุฏุฑุฌุฉ ุงูุชุฐูุฑุฉ (ุงูุชุตุงุฏูุฉ / ุฃุนูุงู)
- ุงูุชูููุฉ ุงูููุฏุฑุฉ ููู ุชุฐูุฑุฉ
- ุฅุฌูุงูู ุชูููุฉ ุงูุชุฐุงูุฑ

### 6. **ูุธุงู ุงูุชูุจููุงุช ุงูุฐูู**
โ๏ธ ุชูุจููุงุช ูููุซุงุฆู ุงูุชู ุชูุชูู ุฎูุงู 90 ููู:
- ุฌูุงุฒ ุงูุณูุฑ
- ุฑุฎุตุฉ ุงูุนูู
- ุงูุชุฃููู ุงูุทุจู
- ุฑุณูู ุงูุฌูุงุฒุงุช
- ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนูุฏ

**ูุธุงู ุงูุฃููุงู:**
- ๐ด ุฃุญูุฑ (ุนุงุฌู ุฌุฏุงู): ุฃูู ูู 30 ููู
- ๐ ุจุฑุชูุงูู (ุนุงุฌู): 30-60 ููู
- ๐ข ุฃุฎุถุฑ (ุฌูุฏ): 60-90 ููู

---

## ๐๏ธ ุงูุญููู ุงูุฌุฏูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Employee Interface - ุญููู ุฅุถุงููุฉ:

```typescript
interface Employee {
  // ... ุงูุญููู ุงูุฃุณุงุณูุฉ
  
  // ููุน ุงูุนูู
  workType?: 'FULL_TIME' | 'PART_TIME' | 'REMOTE' | 'CONTRACT';
  
  // ููุน ุงูููุงูุฉ
  sponsorshipType?: 'COMPANY' | 'PERSONAL';
  
  // ุงุณุชุญูุงู ุงูุชุฐูุฑุฉ
  ticketEntitlement?: boolean;
  ticketClass?: 'ECONOMY' | 'BUSINESS';
  
  // ุญููู ุงูููุธููู ุงูุฃุฌุงูุจ
  contractDuration?: number;
  contractLeaveDays?: number;
  passportNumber?: string;
  passportExpiryDate?: Date | string;
  workPermitExpiryDate?: Date | string;
  passportFeesExpiryDate?: Date | string;
  medicalInsuranceExpiryDate?: Date | string;
  contractEndDate?: Date | string; // ุฌุฏูุฏ
}
```

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
1. **`frontend/advanced-dashboard.html`**
   - ููุญุฉ ุงูุชุญูููุงุช ุงููุชูุฏูุฉ
   - ุฑุณูู ุจูุงููุฉ ุจุงุณุชุฎุฏุงู Chart.js
   - ุฌุฏุงูู ุชูุงุนููุฉ
   - ูุธุงู ุชุจููุจุงุช ูุชูุฏู

### ูููุงุช ูุนุฏูุฉ:

2. **`apps/api/src/database/in-memory-db.ts`**
   - ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ ูู Employee interface

3. **`apps/api/src/dashboard/admin-dashboard.service.ts`**
   - ุชุญุฏูุซ getQuickStats() - ุฅุญุตุงุฆูุงุช ุดุงููุฉ
   - ุฅุถุงูุฉ getChartData() - ุจูุงูุงุช ุงูุฑุณูู ุงูุจูุงููุฉ
   - ุฅุถุงูุฉ getAnalytics() - ุชุญูููุงุช ูุชูุฏูุฉ
   - ุฅุถุงูุฉ calculateLeaveBalances() - ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช
   - ุฅุถุงูุฉ calculateEndOfService() - ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
   - ุฅุถุงูุฉ getExpiringDocumentsList() - ูุงุฆูุฉ ุงููุซุงุฆู ุงูููุชููุฉ

4. **`apps/api/src/employee/employee.service.ts`**
   - ุชุญุฏูุซ createEmployee() ูุญูุธ ุงูุญููู ุงูุฌุฏูุฏุฉ

5. **`frontend/admin-dashboard.html`**
   - ุฅุถุงูุฉ ุฒุฑ "ุงูุชุญูููุงุช ุงููุชูุฏูุฉ"
   - ุฅุถุงูุฉ ุญููู ููุน ุงูุนูู ูุงูููุงูุฉ ูุงูุชุฐุงูุฑ
   - ุฅุถุงูุฉ ุญูู ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนูุฏ
   - ุชุญุฏูุซ ุฌุฏูู ุงูููุธููู ูุนุฑุถ ุงูุชูุจููุงุช

---

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ูููุญุฉ ุงูุชุญูููุงุช
ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ ุงูุฑุฆูุณูุฉุ ุงุถุบุท ุนูู ุฒุฑ **"๐ ุงูุชุญูููุงุช ุงููุชูุฏูุฉ"** ูู ุงูููุฏุฑ.

### 2. ุงูุชุจููุจุงุช ุงููุชุงุญุฉ
- **ูุธุฑุฉ ุนุงูุฉ**: ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุฃุฑุจุนุฉ
- **ุชุญูููุงุช ุงูุฅุฌุงุฒุงุช**: ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช ููู ููุธู
- **ููุงูุฉ ุงูุฎุฏูุฉ**: ุงูููุงูุขุช ุงููุณุชุญูุฉ
- **ุงูุชุฐุงูุฑ**: ุงูููุธููู ุงููุณุชุญููู ููุชุฐุงูุฑ
- **ุงูุชูุจููุงุช**: ุงููุซุงุฆู ุงููุฑูุจุฉ ูู ุงูุงูุชูุงุก

### 3. ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
ุนูุฏ ุฅุถุงูุฉ ููุธูุ ุงููุฃ:
- **ุงูุญููู ุงูุฃุณุงุณูุฉ** (ุงูุงุณูุ ุงููุณูุ ุงูุฑุงุชุจุ ุฅูุฎ)
- **ููุน ุงูุนูู**: ุฏูุงู ูุงูู / ุฌุฒุฆู / ุนู ุจุนุฏ / ุนูุฏ
- **ููุน ุงูููุงูุฉ**: ุดุฑูุฉ / ุดุฎุตูุฉ
- **ุงุณุชุญูุงู ุงูุชุฐูุฑุฉ**: ูุนู / ูุง
- **ุฏุฑุฌุฉ ุงูุชุฐูุฑุฉ**: ุงูุชุตุงุฏูุฉ / ุฃุนูุงู

ุฅุฐุง ูุงู ุงูููุธู **ุบูุฑ ุณุนูุฏู**ุ ุณุชุธูุฑ ุญููู ุฅุถุงููุฉ:
- ูุฏุฉ ุงูุนูุฏ
- ุฃูุงู ุงูุฅุฌุงุฒุฉ ุจุงูุนูุฏ
- ุจูุงูุงุช ุงูุฌูุงุฒ
- ุชูุงุฑูุฎ ุงูุชูุงุก ุงููุซุงุฆู

---

## ๐ API Endpoints

### ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ
```
GET /dashboard/stats
Authorization: Bearer {token}
```

**Response:**
```json
{
  "stats": {
    "totalEmployees": 10,
    "saudiCount": 6,
    "nonSaudiCount": 4,
    "remoteCount": 2,
    "partTimeCount": 1,
    "personalSponsorCount": 1,
    "monthlyPayroll": 85000,
    "expiringDocuments": 3
  },
  "charts": {
    "departmentDistribution": [...],
    "nationalityDistribution": [...],
    "leaveDistribution": [...],
    "salaryDistribution": [...]
  },
  "tables": {
    "pendingLeaves": [...],
    "expiringDocuments": [...],
    "recentHires": [...],
    "pendingAdvances": [...]
  },
  "analytics": {
    "leaveBalances": [...],
    "endOfServiceEligible": [...],
    "ticketEligible": [...]
  }
}
```

---

## ๐จ ุงูุชุตููู ูุงูุฃููุงู

### ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช
- ุฎูููุฉ ุจูุถุงุก ูุน ุธู ุฎููู
- ุฃุฑูุงู ูุจูุฑุฉ ุจููู ุฃุฒุฑู (#667eea)
- ุจุทุงูุงุช ุฎุงุตุฉ ููููุฉ ููุฑูุงุชุจ ูุงูุชูุจููุงุช

### ุงูุฑุณูู ุงูุจูุงููุฉ
- **Pie Chart**: ุชูุฒูุน ุงูุฃูุณุงู
- **Doughnut Chart**: ุงูุฌูุณูุฉ
- **Bar Chart**: ุงูุฅุฌุงุฒุงุช ูุงูุฑูุงุชุจ
- ุฃููุงู ูุชุฏุฑุฌุฉ ุงุญุชุฑุงููุฉ

### ุงูุฌุฏุงูู
- ุฑุฃุณ ุฑูุงุฏู ูุงุชุญ
- ุตููู ูุงุจูุฉ ููุชุธููู ุนูุฏ ุงููุฑูุฑ
- ุฃููููุงุช ููููุฉ ููุญุงูุงุช

---

## ๐ข ุงูุญุณุงุจุงุช ูุงูููุงููู

### 1. ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช
```
ุงูุฃูุงู ุงููุณุชุญูุฉ = 21 (ุฃูู 5 ุณููุงุช) ุฃู 30 (ุจุนุฏ 5 ุณููุงุช)
ุงูุฃูุงู ุงููุชุจููุฉ = ุงูุฃูุงู ุงููุณุชุญูุฉ - ุงูุฃูุงู ุงููุณุชุฎุฏูุฉ
ุงูุฃุฌุฑ ุงููููู = ุงูุฑุงุชุจ ุงูุฃุณุงุณู รท 30
ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช = ุงูุฃูุงู ุงููุชุจููุฉ ร ุงูุฃุฌุฑ ุงููููู
```

### 2. ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
```
ุณููุงุช ุงูุฎุฏูุฉ < 2: 0
2 โค ุณููุงุช < 5: ุณููุงุช ร ุฑุงุชุจ ุดูุฑู ร 0.5
5 โค ุณููุงุช < 10: (5 ร ุฑุงุชุจ ร 0.5) + ((ุณููุงุช - 5) ร ุฑุงุชุจ)
ุณููุงุช โฅ 10: ุณููุงุช ร ุฑุงุชุจ ุดูุฑู
```

### 3. ุงูุชูุจููุงุช
```
ุนุงุฌู ุฌุฏุงู: ุฃูุงู ูุชุจููุฉ โค 30
ุนุงุฌู: 30 < ุฃูุงู โค 60
ุชุญุฐูุฑ: 60 < ุฃูุงู โค 90
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุฑุฉ

### ุฅุญุตุงุฆูุงุช ุงูููุธููู
- โ ุฅุฌูุงูู ุงูููุธููู
- โ ููุธููู ุณุนูุฏููู / ุบูุฑ ุณุนูุฏููู
- โ ููุธููู ุนู ุจุนุฏ
- โ ููุธููู Part-Time
- โ ููุงูุฉ ุดุฎุตูุฉ
- โ ุชูุฒูุน ุญุณุจ ุงูุฃูุณุงู
- โ ุชูุฒูุน ุงูุฑูุงุชุจ

### ุฅุญุตุงุฆูุงุช ุงูุฅุฌุงุฒุงุช
- โ ุฅุฌุงุฒุงุช ูุนููุฉ
- โ ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช ููู ููุธู (ุฃูุงู ููุจุงูุบ)
- โ ุชูุฒูุน ุงูุฅุฌุงุฒุงุช ุญุณุจ ุงูููุน
- โ ุฅุฌูุงูู ูููุฉ ุฃุฑุตุฏุฉ ุงูุฅุฌุงุฒุงุช

### ุฅุญุตุงุฆูุงุช ูุงููุฉ
- โ ูุดู ุงูุฑูุงุชุจ ุงูุดูุฑู
- โ ุฅุฌูุงูู ููุงูุขุช ููุงูุฉ ุงูุฎุฏูุฉ
- โ ุชูููุฉ ุงูุชุฐุงูุฑ ุงูููุฏุฑุฉ
- โ ุชูุฒูุน ุงูุฑูุงุชุจ ุจุงููุทุงูุงุช

### ุชูุจููุงุช ููุซุงุฆู
- โ ูุซุงุฆู ูุงุฑุจุช ุนูู ุงูุงูุชูุงุก
- โ ุฌูุงุฒุงุช ููุชููุฉ
- โ ุฑุฎุต ุนูู ููุชููุฉ
- โ ุชุฃููู ุทุจู ููุชูู
- โ ุนููุฏ ูุงุฑุจุช ุนูู ุงูุงูุชูุงุก

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

1. ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ุฅูู PDF/Excel
2. ุฑุณูู ุจูุงููุฉ ูุงุชุฌุงูุงุช ุงูุญุถูุฑ
3. ููุงุฑูุฉ ุงูุจูุงูุงุช ุดูุฑูุงู
4. ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
5. ุชูุงุฑูุฑ ูุฎุตุตุฉ ุญุณุจ ุงููุชุฑุฉ ุงูุฒูููุฉ

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ูู ุญุงู ูุฌูุฏ ุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ุชุดุบูู ุงูุณูุฑูุฑ ุนูู port 3000
2. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ Admin
3. ุงูุชุญ DevTools (F12) ูุฑุคูุฉ ุฃู ุฃุฎุทุงุก
4. ุชุฃูุฏ ูู ุชุญุฏูุซ ุงููุชุตูุญ (Ctrl+F5)

---

## โ ุฎูุงุตุฉ ุงูุชุญุฏูุซุงุช

### ูุง ุชู ุฅุถุงูุชู:
1. โ 8 ุฅุญุตุงุฆูุงุช ุฑุฆูุณูุฉ ูู Dashboard
2. โ 4 ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ (Chart.js)
3. โ ุฌุฏูู ุฑุตูุฏ ุงูุฅุฌุงุฒุงุช (ุฃูุงู ููุจุงูุบ)
4. โ ุฌุฏูู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
5. โ ุฌุฏูู ุงุณุชุญูุงู ุงูุชุฐุงูุฑ
6. โ ุฌุฏูู ุงูุชูุจููุงุช ูููุซุงุฆู ุงูููุชููุฉ
7. โ 5 ุญููู ุฌุฏูุฏุฉ ูู Employee (workType, sponsorship, ticket, contractEndDate)
8. โ ูุธุงู ุชูุจููุงุช ุฐูู ุจุงูุฃููุงู
9. โ ุญุณุงุจุงุช ุฏูููุฉ ููู ูุธุงู ุงูุนูู ุงูุณุนูุฏู
10. โ ูุงุฌูุฉ ูุชูุฏูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู

---

ุชู ุจุญูุฏ ุงููู ุฅูุดุงุก ูุธุงู ุชุญูููุงุช ุดุงูู ููุชุทูุฑ! ๐
